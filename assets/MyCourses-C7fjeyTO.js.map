{"version":3,"file":"MyCourses-C7fjeyTO.js","sources":["../../src/pages/profile/MyCourses.vue"],"sourcesContent":["<template>\r\n  <div class=\"space-y-6\">\r\n    <!-- Filter Tabs -->\r\n    <div class=\"border-b border-gray-200\">\r\n      <nav class=\"-mb-px flex space-x-8\">\r\n        <button\r\n          v-for=\"tab in tabs\"\r\n          :key=\"tab.key\"\r\n          @click=\"activeTab = tab.key\"\r\n          :class=\"[\r\n            'py-2 px-1 border-b-2 font-medium text-sm',\r\n            activeTab === tab.key\r\n              ? 'border-blue-500 text-blue-600'\r\n              : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n          ]\"\r\n        >\r\n          {{ tab.label }}\r\n          <span \r\n            v-if=\"tab.count !== undefined\"\r\n            :class=\"[\r\n              'ml-2 py-0.5 px-2 rounded-full text-xs',\r\n              activeTab === tab.key\r\n                ? 'bg-blue-100 text-blue-600'\r\n                : 'bg-gray-100 text-gray-600'\r\n            ]\"\r\n          >\r\n            {{ tab.count }}\r\n          </span>\r\n        </button>\r\n      </nav>\r\n    </div>\r\n\r\n    <!-- Loading State -->\r\n    <div v-if=\"isLoading\" class=\"flex justify-center py-12\">\r\n      <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n    </div>\r\n\r\n    <!-- Error State -->\r\n    <div v-else-if=\"error\" class=\"text-center py-12\">\r\n      <div class=\"text-red-600 mb-2\">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫—É—Ä—Å–æ–≤</div>\r\n      <button \r\n        @click=\"loadCourses\"\r\n        class=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\r\n      >\r\n        –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞\r\n      </button>\r\n    </div>\r\n\r\n    <!-- Empty State -->\r\n    <div v-else-if=\"filteredCourses.length === 0\" class=\"text-center py-12\">\r\n      <div class=\"text-gray-500 mb-4\">\r\n        <span v-if=\"activeTab === 'enrolled'\">–í—ã –µ—â—ë –Ω–µ –∑–∞–ø–∏—Å–∞–Ω—ã –Ω–∏ –Ω–∞ –æ–¥–∏–Ω –∫—É—Ä—Å</span>\r\n        <span v-else-if=\"activeTab === 'in_progress'\">–£ –≤–∞—Å –Ω–µ—Ç –∫—É—Ä—Å–æ–≤ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –∏–∑—É—á–µ–Ω–∏—è</span>\r\n        <span v-else>–í—ã –µ—â—ë –Ω–µ –∑–∞–≤–µ—Ä—à–∏–ª–∏ –Ω–∏ –æ–¥–Ω–æ–≥–æ –∫—É—Ä—Å–∞</span>\r\n      </div>\r\n      <router-link \r\n        to=\"/courses\"\r\n        class=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700\"\r\n      >\r\n        –ù–∞–π—Ç–∏ –∫—É—Ä—Å—ã\r\n      </router-link>\r\n    </div>\r\n\r\n    <!-- Courses Grid -->\r\n    <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n      <div \r\n        v-for=\"course in filteredCourses\" \r\n        :key=\"course.id\"\r\n        class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-shadow\"\r\n      >\r\n        <!-- Course Image -->\r\n        <div class=\"h-48 bg-gray-200 relative\">\r\n          <img \r\n            v-if=\"course.thumbnail\"\r\n            :src=\"course.thumbnail\" \r\n            :alt=\"course.title\"\r\n            class=\"w-full h-full object-cover\"\r\n          />\r\n          <div v-else class=\"w-full h-full flex items-center justify-center text-gray-400\">\r\n            üìö\r\n          </div>\r\n          \r\n          <!-- Progress Overlay -->\r\n          <div v-if=\"getCourseProgress(course.id)\" class=\"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white p-2\">\r\n            <div class=\"flex items-center justify-between text-xs\">\r\n              <span>{{ Math.round(getCourseProgress(course.id)?.progressPercentage || 0) }}% –∑–∞–≤–µ—Ä—à–µ–Ω–æ</span>\r\n              <span>{{ formatTime(getCourseProgress(course.id)?.timeSpent || 0) }}</span>\r\n            </div>\r\n            <div class=\"w-full bg-gray-600 rounded-full h-1 mt-1\">\r\n              <div \r\n                class=\"bg-blue-400 h-1 rounded-full\" \r\n                :style=\"{ width: `${getCourseProgress(course.id)?.progressPercentage || 0}%` }\"\r\n              ></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Course Content -->\r\n        <div class=\"p-6\">\r\n          <div class=\"flex items-center space-x-2 mb-2\">\r\n            <span class=\"text-xs font-semibold px-2 py-1 bg-blue-100 text-blue-800 rounded-full\">\r\n              {{ getCategoryName(course.category) }}\r\n            </span>\r\n            <span class=\"text-xs text-gray-500\">{{ course.duration }} –º–∏–Ω</span>\r\n            <span class=\"text-xs text-gray-500\">‚Ä¢</span>\r\n            <span class=\"text-xs text-gray-500\">{{ course.level }}</span>\r\n          </div>\r\n          \r\n          <h3 class=\"font-semibold text-gray-900 mb-2 line-clamp-2\">{{ course.title }}</h3>\r\n          <p class=\"text-sm text-gray-600 mb-4 line-clamp-3\">{{ course.shortDescription }}</p>\r\n          \r\n          <!-- Instructor -->\r\n          <div class=\"flex items-center mb-4\">\r\n            <img \r\n              :src=\"course.instructor.avatar\" \r\n              :alt=\"course.instructor.name\"\r\n              class=\"w-6 h-6 rounded-full mr-2\"\r\n            />\r\n            <span class=\"text-sm text-gray-600\">{{ course.instructor.name }}</span>\r\n          </div>\r\n\r\n          <!-- Rating & Actions -->\r\n          <div class=\"flex items-center justify-between\">\r\n            <div class=\"flex items-center space-x-1\">\r\n              <span class=\"text-yellow-400\">‚≠ê</span>\r\n              <span class=\"text-sm text-gray-600\">{{ course.rating }}</span>\r\n            </div>\r\n            \r\n            <div class=\"flex space-x-2\">\r\n              <router-link \r\n                :to=\"`/courses/${course.id}`\"\r\n                class=\"text-blue-600 hover:text-blue-700 text-sm font-medium\"\r\n              >\r\n                –ü–æ–¥—Ä–æ–±–Ω–µ–µ\r\n              </router-link>\r\n              \r\n              <button \r\n                v-if=\"activeTab === 'enrolled' || activeTab === 'in_progress'\"\r\n                @click=\"continueCourse(course)\"\r\n                class=\"bg-blue-600 text-white px-3 py-1 rounded text-xs font-medium hover:bg-blue-700\"\r\n              >\r\n                {{ getCourseProgress(course.id)?.progressPercentage === 0 ? '–ù–∞—á–∞—Ç—å' : '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å' }}\r\n              </button>\r\n              \r\n              <button \r\n                v-else-if=\"activeTab === 'completed'\"\r\n                @click=\"reviewCourse(course)\"\r\n                class=\"bg-gray-600 text-white px-3 py-1 rounded text-xs font-medium hover:bg-gray-700\"\r\n              >\r\n                –ü–æ–≤—Ç–æ—Ä–∏—Ç—å\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport { userApi, progressApi } from '@/services/api';\r\nimport { mockCourses, mockCourseProgress, mockApiDelay } from '@/services/mockData';\r\nimport type { Course, CourseProgress } from '@/types';\r\n\r\nconst router = useRouter();\r\n\r\nconst activeTab = ref('enrolled');\r\nconst isLoading = ref(true);\r\nconst error = ref<string | null>(null);\r\nconst enrolledCourses = ref<Course[]>([]);\r\nconst completedCourses = ref<Course[]>([]);\r\nconst courseProgress = ref<Record<string, CourseProgress>>({});\r\n\r\nconst tabs = computed(() => [\r\n  { key: 'enrolled', label: '–ó–∞–ø–∏—Å–∞–Ω', count: enrolledCourses.value.length },\r\n  { key: 'in_progress', label: '–í –ø—Ä–æ—Ü–µ—Å—Å–µ', count: inProgressCourses.value.length },\r\n  { key: 'completed', label: '–ó–∞–≤–µ—Ä—à—ë–Ω', count: completedCourses.value.length }\r\n]);\r\n\r\nconst filteredCourses = computed(() => {\r\n  switch (activeTab.value) {\r\n    case 'enrolled':\r\n      return enrolledCourses.value;\r\n    case 'in_progress':\r\n      return inProgressCourses.value;\r\n    case 'completed':\r\n      return completedCourses.value;\r\n    default:\r\n      return [];\r\n  }\r\n});\r\n\r\nconst inProgressCourses = computed(() => {\r\n  return enrolledCourses.value.filter(course => {\r\n    const progress = courseProgress.value[course.id];\r\n    return progress && progress.progressPercentage > 0 && progress.progressPercentage < 100;\r\n  });\r\n});\r\n\r\nconst getCategoryName = (category: string) => {\r\n  const categoryNames: Record<string, string> = {\r\n    'frontend': '–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å',\r\n    'backend': '–°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å',\r\n    'ai_ml': 'AI/ML',\r\n    'devops': 'DevOps',\r\n    'data_science': '–ù–∞—É–∫–∞ –æ –¥–∞–Ω–Ω—ã—Ö',\r\n    'design': '–î–∏–∑–∞–π–Ω',\r\n    'mobile': '–ú–æ–±–∏–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞',\r\n    'other': '–î—Ä—É–≥–æ–µ'\r\n  };\r\n  return categoryNames[category] || category;\r\n};\r\n\r\nconst getCourseProgress = (courseId: string) => {\r\n  return courseProgress.value[courseId];\r\n};\r\n\r\nconst formatTime = (minutes: number) => {\r\n  if (minutes < 60) {\r\n    return `${minutes}–º`;\r\n  }\r\n  const hours = Math.floor(minutes / 60);\r\n  const remainingMinutes = minutes % 60;\r\n  return `${hours}—á ${remainingMinutes}–º`;\r\n};\r\n\r\nconst continueCourse = (course: Course) => {\r\n  // Find the first incomplete lesson\r\n  const progress = getCourseProgress(course.id);\r\n  if (progress && progress.completedLessons.length > 0) {\r\n    // Find next incomplete lesson\r\n    for (const module of course.modules) {\r\n      for (const lesson of module.lessons) {\r\n        if (!progress.completedLessons.includes(lesson.id)) {\r\n          router.push(`/courses/${course.id}/lessons/${lesson.id}`);\r\n          return;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n  // If no progress or can't find next lesson, go to course page\r\n  router.push(`/courses/${course.id}`);\r\n};\r\n\r\nconst reviewCourse = (course: Course) => {\r\n  router.push(`/courses/${course.id}`);\r\n};\r\n\r\nconst loadCourses = async () => {\r\n  isLoading.value = true;\r\n  error.value = null;\r\n  \r\n  try {\r\n    // Mock API call with delay\r\n    await mockApiDelay(600);\r\n    \r\n    // Load mock enrolled and completed courses\r\n    enrolledCourses.value = mockCourses.slice(0, 3); // First 3 courses as enrolled\r\n    completedCourses.value = mockCourses.slice(0, 1); // First course as completed\r\n    \r\n    // Load mock progress for enrolled courses\r\n    enrolledCourses.value.forEach((course) => {\r\n      if (mockCourseProgress[course.id]) {\r\n        courseProgress.value[course.id] = mockCourseProgress[course.id];\r\n      }\r\n    });\r\n  } catch (err) {\r\n    error.value = err instanceof Error ? err.message : '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫—É—Ä—Å–æ–≤';\r\n  } finally {\r\n    isLoading.value = false;\r\n  }\r\n};\r\n\r\nonMounted(() => {\r\n  loadCourses();\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.line-clamp-2 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n\r\n.line-clamp-3 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 3;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n</style>\r\n"],"names":["router","useRouter","activeTab","ref","isLoading","error","enrolledCourses","completedCourses","courseProgress","tabs","computed","inProgressCourses","filteredCourses","course","progress","getCategoryName","category","getCourseProgress","courseId","formatTime","minutes","hours","remainingMinutes","continueCourse","module","lesson","reviewCourse","loadCourses","mockApiDelay","mockCourses","mockCourseProgress","err","onMounted"],"mappings":"8gDAsKA,MAAMA,EAASC,EAAU,EAEnBC,EAAYC,EAAI,UAAU,EAC1BC,EAAYD,EAAI,EAAI,EACpBE,EAAQF,EAAmB,IAAI,EAC/BG,EAAkBH,EAAc,EAAE,EAClCI,EAAmBJ,EAAc,EAAE,EACnCK,EAAiBL,EAAoC,EAAE,EAEvDM,EAAOC,EAAS,IAAM,CAC1B,CAAE,IAAK,WAAY,MAAO,UAAW,MAAOJ,EAAgB,MAAM,MAAO,EACzE,CAAE,IAAK,cAAe,MAAO,aAAc,MAAOK,EAAkB,MAAM,MAAO,EACjF,CAAE,IAAK,YAAa,MAAO,WAAY,MAAOJ,EAAiB,MAAM,MAAO,CAAA,CAC7E,EAEKK,EAAkBF,EAAS,IAAM,CACrC,OAAQR,EAAU,MAAO,CACvB,IAAK,WACH,OAAOI,EAAgB,MACzB,IAAK,cACH,OAAOK,EAAkB,MAC3B,IAAK,YACH,OAAOJ,EAAiB,MAC1B,QACE,MAAO,CAAC,CAAA,CACZ,CACD,EAEKI,EAAoBD,EAAS,IAC1BJ,EAAgB,MAAM,OAAiBO,GAAA,CAC5C,MAAMC,EAAWN,EAAe,MAAMK,EAAO,EAAE,EAC/C,OAAOC,GAAYA,EAAS,mBAAqB,GAAKA,EAAS,mBAAqB,GAAA,CACrF,CACF,EAEKC,EAAmBC,IACuB,CAC5C,SAAY,mBACZ,QAAW,kBACX,MAAS,QACT,OAAU,SACV,aAAgB,iBAChB,OAAU,SACV,OAAU,uBACV,MAAS,QACX,GACqBA,CAAQ,GAAKA,EAG9BC,EAAqBC,GAClBV,EAAe,MAAMU,CAAQ,EAGhCC,EAAcC,GAAoB,CACtC,GAAIA,EAAU,GACZ,MAAO,GAAGA,CAAO,IAEnB,MAAMC,EAAQ,KAAK,MAAMD,EAAU,EAAE,EAC/BE,EAAmBF,EAAU,GAC5B,MAAA,GAAGC,CAAK,KAAKC,CAAgB,GACtC,EAEMC,EAAkBV,GAAmB,CAEnC,MAAAC,EAAWG,EAAkBJ,EAAO,EAAE,EAC5C,GAAIC,GAAYA,EAAS,iBAAiB,OAAS,GAEtC,UAAAU,KAAUX,EAAO,QACf,UAAAY,KAAUD,EAAO,QAC1B,GAAI,CAACV,EAAS,iBAAiB,SAASW,EAAO,EAAE,EAAG,CAClDzB,EAAO,KAAK,YAAYa,EAAO,EAAE,YAAYY,EAAO,EAAE,EAAE,EACxD,MAAA,EAORzB,EAAO,KAAK,YAAYa,EAAO,EAAE,EAAE,CACrC,EAEMa,EAAgBb,GAAmB,CACvCb,EAAO,KAAK,YAAYa,EAAO,EAAE,EAAE,CACrC,EAEMc,EAAc,SAAY,CAC9BvB,EAAU,MAAQ,GAClBC,EAAM,MAAQ,KAEV,GAAA,CAEF,MAAMuB,EAAa,GAAG,EAGtBtB,EAAgB,MAAQuB,EAAY,MAAM,EAAG,CAAC,EAC9CtB,EAAiB,MAAQsB,EAAY,MAAM,EAAG,CAAC,EAG/BvB,EAAA,MAAM,QAASO,GAAW,CACpCiB,EAAmBjB,EAAO,EAAE,IAC9BL,EAAe,MAAMK,EAAO,EAAE,EAAIiB,EAAmBjB,EAAO,EAAE,EAChE,CACD,QACMkB,EAAK,CACZ1B,EAAM,MAAQ0B,aAAe,MAAQA,EAAI,QAAU,wBAAA,QACnD,CACA3B,EAAU,MAAQ,EAAA,CAEtB,EAEA,OAAA4B,EAAU,IAAM,CACFL,EAAA,CAAA,CACb"}