import{e as q,b as y,I as z,r as m,x as M,c as r,f as e,g as i,h as j,w as $,m as h,i as R,t as a,F as D,s as L,n as N,j as U,v as P,o}from"./vendor-BLqVYaau.js";import{f as G}from"./index-YbPf879l.js";import{a as E}from"./aiExerciseService-C8i7KRHj.js";import"./deepseekApi-BbGClSq_.js";const J={class:"min-h-screen bg-gray-50"},K={class:"bg-white shadow-sm border-b"},Q={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},W={class:"flex items-center justify-between py-4"},X={class:"flex items-center space-x-4"},Y={class:"text-lg font-medium text-gray-900"},Z={key:0,class:"flex items-center space-x-4"},ee={class:"text-sm text-gray-600 flex items-center space-x-2"},te={class:"flex items-center"},se={key:0},le={key:1},re={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},oe={key:0,class:"flex justify-center py-12"},ae={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ie={class:"space-y-6"},ne={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},de={class:"prose max-w-none"},ue={class:"text-gray-700"},ce={class:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg"},ve={class:"text-blue-800 whitespace-pre-line"},me={key:0,class:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg"},xe={class:"text-green-800 text-sm bg-green-100 p-2 rounded"},ge={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},pe={class:"flex items-center justify-between mb-4"},be=["disabled"],ye={key:0},he={class:"text-sm text-yellow-800"},fe=["disabled"],_e={key:1,class:"text-gray-500 text-sm"},we={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ke={class:"space-y-3"},Ce={class:"flex items-center justify-between mb-2"},Ie={class:"text-sm font-medium"},Ae={class:"flex items-center space-x-2"},Se={key:0,class:"text-sm text-gray-600"},je={key:0,class:"text-sm text-gray-600 bg-gray-50 p-2 rounded whitespace-pre-line"},$e={class:"space-y-6"},De={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Le={class:"p-4"},Ne={class:"border border-gray-300 rounded-lg p-4"},Ee={class:"p-4 border-t border-gray-200"},Fe=["disabled"],He={class:"mt-2 text-center text-sm text-gray-500"},Oe={key:0},Te={key:1,class:"text-orange-600"},Ve={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},Be={class:"flex items-center space-x-2 mb-4"},qe={class:"space-y-3"},ze={key:0,class:"text-sm"},Me={key:1,class:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg whitespace-pre-line"},Re={key:2,class:"text-center pt-4"},Qe=q({__name:"AIExercisePage",setup(Ue){const k=z(),C=y(()=>k.params.courseId),I=y(()=>k.params.exerciseId),_=m(!0),b=m(!1),g=m(!1),s=m(null),u=m([]),n=m(""),f=m(!1),p=m(0),c=y(()=>u.value[u.value.length-1]||null),w=y(()=>{var l;return(l=s.value)!=null&&l.maxAttempts?s.value.maxAttempts-u.value.length:1/0}),F=y(()=>s.value?s.value.hints.slice(0,p.value):[]),H=l=>({easy:"–õ–µ–≥–∫–æ",medium:"–°—Ä–µ–¥–Ω–µ",hard:"–°–ª–æ–∂–Ω–æ"})[l]||l,O=async()=>{_.value=!0;try{s.value={id:I.value,title:"–û–±—ä—è—Å–Ω–∏—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è",description:"–û–ø–∏—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø–æ–¥—Ö–æ–¥—ã –≤ –º–∞—à–∏–Ω–Ω–æ–º –æ–±—É—á–µ–Ω–∏–∏, –≤–∫–ª—é—á–∞—è —Ç–∏–ø—ã –æ–±—É—á–µ–Ω–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è.",prompt:`–ù–∞–ø–∏—à–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã:
1. –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?
2. –ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –≤—ã –∑–Ω–∞–µ—Ç–µ?
3. –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏
4. –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –æ–±—É—á–µ–Ω–∏–µ–º —Å —É—á–∏—Ç–µ–ª–µ–º –∏ –±–µ–∑ —É—á–∏—Ç–µ–ª—è`,expectedOutput:"–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ (—Å —É—á–∏—Ç–µ–ª–µ–º, –±–µ–∑ —É—á–∏—Ç–µ–ª—è, —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º), –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –ø–æ–¥—Ö–æ–¥–∞–º–∏.",hints:["–ù–∞—á–Ω–∏—Ç–µ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∫–∞–∫ —Å–ø–æ—Å–æ–±–∞ –æ–±—É—á–µ–Ω–∏—è –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö","–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞: supervised, unsupervised –∏ reinforcement learning","–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ","–û–±—ä—è—Å–Ω–∏—Ç–µ, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ç–∏–ø –æ–±—É—á–µ–Ω–∏—è"],difficulty:"medium",timeLimit:45,maxAttempts:3};try{u.value=await G.getExerciseSubmissions(I.value)}catch{u.value=[]}}catch(l){console.error("Failed to load exercise:",l)}finally{_.value=!1}},A=async()=>{if(!(!s.value||p.value>=s.value.hints.length)){g.value=!0;try{const l=await E.generateHint(s.value.title,s.value.description,n.value);s.value&&s.value.hints.push(l),p.value++,f.value=!0}catch(l){console.error("Failed to get hint:",l),p.value++,f.value=!0}finally{g.value=!1}}},T=async()=>{if(!(!n.value.trim()||!s.value||b.value)){b.value=!0;try{const l=await E.evaluateTextAnswer(n.value,{exerciseId:s.value.id,exerciseTitle:s.value.title,exerciseDescription:s.value.description,expectedAnswer:s.value.expectedOutput,evaluationCriteria:["–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–ª–Ω–æ—Ç–∞ –æ—Ç–≤–µ—Ç–∞","–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏–∑–ª–æ–∂–µ–Ω–∏—è","–ü—Ä–∏–º–µ—Ä—ã –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è","–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π"]}),t={id:`submission_${Date.now()}`,exerciseId:s.value.id,userId:"demo_user",answer:n.value,isCorrect:l.isCorrect,feedback:l.feedback,score:l.score,attemptNumber:u.value.length+1,submittedAt:new Date().toISOString()};if(u.value.push(t),l.suggestions.length>0||l.strengths.length>0||l.improvements.length>0){let x=l.feedback;l.strengths.length>0&&(x+=`

–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:
${l.strengths.map(v=>`‚Ä¢ ${v}`).join(`
`)}`),l.improvements.length>0&&(x+=`

–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
${l.improvements.map(v=>`‚Ä¢ ${v}`).join(`
`)}`),l.suggestions.length>0&&(x+=`

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
${l.suggestions.map(v=>`‚Ä¢ ${v}`).join(`
`)}`),t.feedback=x}}catch(l){console.error("Failed to submit solution:",l);const t={id:`submission_${Date.now()}`,exerciseId:s.value.id,userId:"demo_user",answer:n.value,isCorrect:!1,feedback:"–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.",score:0,attemptNumber:u.value.length+1,submittedAt:new Date().toISOString()};u.value.push(t)}finally{b.value=!1}}},V=()=>{n.value=n.value.split(`
`).map(l=>l.trim()).filter(l=>l.length>0).join(`

`)},B=()=>{n.value=""};return M(()=>{O()}),(l,t)=>{var v;const x=R("router-link");return o(),r("div",J,[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[j(x,{to:`/courses/${C.value}`,class:"text-gray-400 hover:text-gray-600"},{default:$(()=>t[1]||(t[1]=[h(" ‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É ")])),_:1},8,["to"]),e("div",null,[e("h1",Y,a((v=s.value)==null?void 0:v.title),1),t[2]||(t[2]=e("p",{class:"text-sm text-gray-500"},"ü§ñ AI –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ",-1))])]),s.value?(o(),r("div",Z,[e("div",ee,[e("span",te,[t[3]||(t[3]=e("span",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-1"},null,-1)),h(" "+a(H(s.value.difficulty)),1)]),s.value.timeLimit?(o(),r("span",se,"‚è∞ "+a(s.value.timeLimit)+" –º–∏–Ω",1)):i("",!0),s.value.maxAttempts?(o(),r("span",le,"üéØ "+a(w.value)+" –ø–æ–ø—ã—Ç–æ–∫",1)):i("",!0)])])):i("",!0)])])]),e("div",re,[_.value?(o(),r("div",oe,t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):s.value?(o(),r("div",ae,[e("div",ie,[e("div",ne,[t[7]||(t[7]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"–ó–∞–¥–∞–Ω–∏–µ",-1)),e("div",de,[e("p",ue,a(s.value.description),1)]),e("div",ce,[t[5]||(t[5]=e("h3",{class:"font-medium text-blue-900 mb-2"},"üí° –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:",-1)),e("div",ve,a(s.value.prompt),1)]),s.value.expectedOutput?(o(),r("div",me,[t[6]||(t[6]=e("h3",{class:"font-medium text-green-900 mb-2"},"‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:",-1)),e("pre",xe,[e("code",null,a(s.value.expectedOutput),1)])])):i("",!0)]),e("div",ge,[e("div",pe,[t[8]||(t[8]=e("h3",{class:"text-lg font-medium text-gray-900"},"üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏",-1)),!f.value&&s.value.hints.length>0?(o(),r("button",{key:0,onClick:A,disabled:g.value||p.value>=s.value.hints.length,class:"px-3 py-1 text-sm bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 disabled:opacity-50"},a(g.value?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É"),9,be)):i("",!0)]),f.value?(o(),r("div",ye,[(o(!0),r(D,null,L(F.value,(d,S)=>(o(),r("div",{key:S,class:"mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},[e("div",he,a(d),1)]))),128)),p.value<s.value.hints.length?(o(),r("button",{key:0,onClick:A,disabled:g.value,class:"text-sm text-yellow-600 hover:text-yellow-700"},a(g.value?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–ï—â—ë –ø–æ–¥—Å–∫–∞–∑–∫–∞"),9,fe)):i("",!0)])):s.value.hints.length===0?(o(),r("div",_e," –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã ")):i("",!0)]),u.value.length>0?(o(),r("div",we,[t[10]||(t[10]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"üìù –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ–ø—ã—Ç–∫–∏",-1)),e("div",ke,[(o(!0),r(D,null,L(u.value.slice(-3),(d,S)=>(o(),r("div",{key:d.id,class:"p-3 border border-gray-200 rounded-lg"},[e("div",Ce,[e("span",Ie,"–ü–æ–ø—ã—Ç–∫–∞ #"+a(d.attemptNumber),1),e("div",Ae,[d.score!==void 0?(o(),r("span",Se,a(d.score)+"% ",1)):i("",!0),e("span",{class:N(["px-2 py-1 rounded-full text-xs font-medium",d.isCorrect?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},a(d.isCorrect?"–ü—Ä–∞–≤–∏–ª—å–Ω–æ":"–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ"),3)])]),d.feedback?(o(),r("div",je,[t[9]||(t[9]=e("strong",null,"AI –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:",-1)),h(" "+a(d.feedback),1)])):i("",!0)]))),128))])])):i("",!0)]),e("div",$e,[e("div",De,[e("div",{class:"p-4 border-b border-gray-200"},[e("div",{class:"flex items-center justify-between"},[t[11]||(t[11]=e("h3",{class:"font-medium text-gray-900"},"‚úçÔ∏è –í–∞—à –æ—Ç–≤–µ—Ç",-1)),e("div",{class:"flex items-center space-x-2"},[e("button",{onClick:V,class:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900"}," –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å "),e("button",{onClick:B,class:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900"}," –û—á–∏—Å—Ç–∏—Ç—å ")])])]),e("div",Le,[e("div",Ne,[U(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=d=>n.value=d),rows:"15",class:"w-full border-none outline-none resize-none text-gray-800 text-sm leading-relaxed",placeholder:"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç –∑–¥–µ—Å—å..."},null,512),[[P,n.value]])]),t[12]||(t[12]=e("div",{class:"mt-2 text-xs text-gray-500"}," –ú–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ ",-1))]),e("div",Ee,[e("button",{onClick:T,disabled:!n.value.trim()||n.value.trim().length<50||b.value||w.value<=0,class:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},a(b.value?"AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞—à –æ—Ç–≤–µ—Ç...":"–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç"),9,Fe),e("div",He,[s.value.maxAttempts?(o(),r("div",Oe," –û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: "+a(w.value),1)):i("",!0),n.value.trim().length>0&&n.value.trim().length<50?(o(),r("div",Te," –ú–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤ (—Å–µ–π—á–∞—Å: "+a(n.value.trim().length)+") ",1)):i("",!0)])])]),c.value?(o(),r("div",Ve,[e("div",Be,[t[13]||(t[13]=e("span",{class:"text-lg"},"ü§ñ",-1)),t[14]||(t[14]=e("h3",{class:"font-medium text-gray-900"},"AI –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å",-1)),e("span",{class:N(["px-2 py-1 rounded-full text-xs font-medium",c.value.isCorrect?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},a(c.value.isCorrect?"–ü—Ä–∞–≤–∏–ª—å–Ω–æ":"–ù—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å"),3)]),e("div",qe,[c.value.score!==void 0?(o(),r("div",ze,[t[15]||(t[15]=e("span",{class:"font-medium"},"–û—Ü–µ–Ω–∫–∞:",-1)),h(" "+a(c.value.score)+"% ",1)])):i("",!0),c.value.feedback?(o(),r("div",Me,a(c.value.feedback),1)):i("",!0),c.value.isCorrect?(o(),r("div",Re,[t[17]||(t[17]=e("div",{class:"text-green-600 text-lg mb-2"},"üéâ –û—Ç–ª–∏—á–Ω–æ!",-1)),t[18]||(t[18]=e("p",{class:"text-sm text-gray-600 mb-4"},"–í—ã —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–∏–ª–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ!",-1)),j(x,{to:`/courses/${C.value}`,class:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},{default:$(()=>t[16]||(t[16]=[h(" –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫—É—Ä—Å—É ")])),_:1},8,["to"])])):i("",!0)])])):i("",!0)])])):i("",!0)])])}}});export{Qe as default};
//# sourceMappingURL=AIExercisePage-cX41IwM2.js.map
