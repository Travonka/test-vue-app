import{e as M,b as p,I as R,r as c,x as T,c as l,f as e,g as n,h as L,w as E,m as b,i as U,t as r,F,s as N,n as S,j as $,v as P,o}from"./vendor-BrhbkY3s.js";import{f as V}from"./index-B0pOHW19.js";const G={class:"min-h-screen bg-gray-50"},J={class:"bg-white shadow-sm border-b"},K={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Q={class:"flex items-center justify-between py-4"},W={class:"flex items-center space-x-4"},X={class:"text-lg font-medium text-gray-900"},Y={key:0,class:"flex items-center space-x-4"},Z={class:"text-sm text-gray-600 flex items-center space-x-2"},ee={class:"flex items-center"},te={key:0},se={key:1},le={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},oe={key:0,class:"flex justify-center py-12"},re={key:1,class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},ae={class:"space-y-6"},ne={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ie={class:"prose max-w-none"},de={class:"text-gray-700"},ue={class:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg"},ce={class:"text-blue-800 whitespace-pre-line"},ve={key:0,class:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg"},me={class:"text-green-800 text-sm bg-green-100 p-2 rounded"},xe={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},ge={class:"flex items-center justify-between mb-4"},pe=["disabled"],be={key:0},ye={class:"text-sm text-yellow-800"},_e=["disabled"],he={key:1,class:"text-gray-500 text-sm"},fe={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},we={class:"space-y-3"},ke={class:"flex items-center justify-between mb-2"},Ce={class:"text-sm font-medium"},Ae={class:"flex items-center space-x-2"},Ie={key:0,class:"text-sm text-gray-600"},je={key:0,class:"text-sm text-gray-600 bg-gray-50 p-2 rounded"},Le={class:"space-y-6"},Ee={class:"bg-white rounded-lg shadow-sm border border-gray-200"},Fe={class:"p-4"},Ne={class:"bg-gray-900 rounded-lg p-4"},Se={class:"p-4 border-t border-gray-200"},Ve=["disabled"],He={key:0,class:"mt-2 text-center text-sm text-gray-500"},Be={key:0,class:"bg-white rounded-lg shadow-sm border border-gray-200 p-6"},De={class:"flex items-center space-x-2 mb-4"},Oe={class:"space-y-3"},qe={key:0,class:"text-sm"},ze={key:1,class:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg"},Me={key:2,class:"text-center pt-4"},$e=M({__name:"AIExercisePage",setup(Re){const f=R(),w=p(()=>f.params.courseId),k=p(()=>f.params.exerciseId),y=c(!0),x=c(!1),m=c(!1),s=c(null),v=c([]),d=c(""),_=c(!1),g=c(0),u=p(()=>v.value[v.value.length-1]||null),h=p(()=>{var a;return(a=s.value)!=null&&a.maxAttempts?s.value.maxAttempts-v.value.length:1/0}),H=p(()=>s.value?s.value.hints.slice(0,g.value):[]),B=a=>({easy:"–õ–µ–≥–∫–æ",medium:"–°—Ä–µ–¥–Ω–µ",hard:"–°–ª–æ–∂–Ω–æ"})[a]||a,D=async()=>{y.value=!0;try{s.value={id:k.value,title:"–°–æ–∑–¥–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏",description:"–°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –µ–≥–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ –≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏—é.",prompt:`–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é sort_numbers(numbers), –∫–æ—Ç–æ—Ä–∞—è:
1. –ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —á–∏—Å–µ–ª
2. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫
3. –ù–µ –∏–∑–º–µ–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫`,expectedOutput:"[1, 2, 3, 4, 5]",hints:["–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é sorted() –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞","–ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–æ return statement","–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å—Ö–æ–¥–Ω—ã–π —Å–ø–∏—Å–æ–∫ –Ω–µ –∏–∑–º–µ–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏"],difficulty:"easy",timeLimit:30,maxAttempts:5},v.value=await V.getExerciseSubmissions(k.value)}catch(a){console.error("Failed to load exercise:",a)}finally{y.value=!1}},C=async()=>{if(!(!s.value||g.value>=s.value.hints.length)){m.value=!0;try{g.value++,_.value=!0}catch(a){console.error("Failed to get hint:",a)}finally{m.value=!1}}},O=async()=>{if(!(!d.value.trim()||!s.value||x.value)){x.value=!0;try{const a=await V.submitExercise(s.value.id,d.value);v.value.push(a)}catch(a){console.error("Failed to submit solution:",a)}finally{x.value=!1}}},q=()=>{d.value=d.value.split(`
`).map(a=>a.trim()).join(`
`)},z=()=>{d.value=""};return T(()=>{D()}),(a,t)=>{var I;const A=U("router-link");return o(),l("div",G,[e("div",J,[e("div",K,[e("div",Q,[e("div",W,[L(A,{to:`/courses/${w.value}`,class:"text-gray-400 hover:text-gray-600"},{default:E(()=>t[1]||(t[1]=[b(" ‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É ")])),_:1},8,["to"]),e("div",null,[e("h1",X,r((I=s.value)==null?void 0:I.title),1),t[2]||(t[2]=e("p",{class:"text-sm text-gray-500"},"ü§ñ AI –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ",-1))])]),s.value?(o(),l("div",Y,[e("div",Z,[e("span",ee,[t[3]||(t[3]=e("span",{class:"w-2 h-2 bg-yellow-500 rounded-full mr-1"},null,-1)),b(" "+r(B(s.value.difficulty)),1)]),s.value.timeLimit?(o(),l("span",te,"‚è∞ "+r(s.value.timeLimit)+" –º–∏–Ω",1)):n("",!0),s.value.maxAttempts?(o(),l("span",se,"üéØ "+r(h.value)+" –ø–æ–ø—ã—Ç–æ–∫",1)):n("",!0)])])):n("",!0)])])]),e("div",le,[y.value?(o(),l("div",oe,t[4]||(t[4]=[e("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1)]))):s.value?(o(),l("div",re,[e("div",ae,[e("div",ne,[t[7]||(t[7]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"–ó–∞–¥–∞–Ω–∏–µ",-1)),e("div",ie,[e("p",de,r(s.value.description),1)]),e("div",ue,[t[5]||(t[5]=e("h3",{class:"font-medium text-blue-900 mb-2"},"üí° –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:",-1)),e("div",ce,r(s.value.prompt),1)]),s.value.expectedOutput?(o(),l("div",ve,[t[6]||(t[6]=e("h3",{class:"font-medium text-green-900 mb-2"},"‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:",-1)),e("pre",me,[e("code",null,r(s.value.expectedOutput),1)])])):n("",!0)]),e("div",xe,[e("div",ge,[t[8]||(t[8]=e("h3",{class:"text-lg font-medium text-gray-900"},"üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏",-1)),!_.value&&s.value.hints.length>0?(o(),l("button",{key:0,onClick:C,disabled:m.value||g.value>=s.value.hints.length,class:"px-3 py-1 text-sm bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 disabled:opacity-50"},r(m.value?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É"),9,pe)):n("",!0)]),_.value?(o(),l("div",be,[(o(!0),l(F,null,N(H.value,(i,j)=>(o(),l("div",{key:j,class:"mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg"},[e("div",ye,r(i),1)]))),128)),g.value<s.value.hints.length?(o(),l("button",{key:0,onClick:C,disabled:m.value,class:"text-sm text-yellow-600 hover:text-yellow-700"},r(m.value?"–ó–∞–≥—Ä—É–∑–∫–∞...":"–ï—â—ë –ø–æ–¥—Å–∫–∞–∑–∫–∞"),9,_e)):n("",!0)])):s.value.hints.length===0?(o(),l("div",he," –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã ")):n("",!0)]),v.value.length>0?(o(),l("div",fe,[t[10]||(t[10]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"üìù –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ–ø—ã—Ç–∫–∏",-1)),e("div",we,[(o(!0),l(F,null,N(v.value.slice(-3),(i,j)=>(o(),l("div",{key:i.id,class:"p-3 border border-gray-200 rounded-lg"},[e("div",ke,[e("span",Ce,"–ü–æ–ø—ã—Ç–∫–∞ #"+r(i.attemptNumber),1),e("div",Ae,[i.score!==void 0?(o(),l("span",Ie,r(i.score)+"% ",1)):n("",!0),e("span",{class:S(["px-2 py-1 rounded-full text-xs font-medium",i.isCorrect?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},r(i.isCorrect?"–ü—Ä–∞–≤–∏–ª—å–Ω–æ":"–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ"),3)])]),i.feedback?(o(),l("div",je,[t[9]||(t[9]=e("strong",null,"AI –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:",-1)),b(" "+r(i.feedback),1)])):n("",!0)]))),128))])])):n("",!0)]),e("div",Le,[e("div",Ee,[e("div",{class:"p-4 border-b border-gray-200"},[e("div",{class:"flex items-center justify-between"},[t[11]||(t[11]=e("h3",{class:"font-medium text-gray-900"},"üíª –í–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ",-1)),e("div",{class:"flex items-center space-x-2"},[e("button",{onClick:q,class:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900"}," –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å "),e("button",{onClick:z,class:"px-3 py-1 text-sm text-gray-600 hover:text-gray-900"}," –û—á–∏—Å—Ç–∏—Ç—å ")])])]),e("div",Fe,[e("div",Ne,[$(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=i=>d.value=i),rows:"20",class:"w-full bg-transparent text-green-400 font-mono text-sm border-none outline-none resize-none",placeholder:"# –í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∫–æ–¥ –∑–¥–µ—Å—å..."},null,512),[[P,d.value]])])]),e("div",Se,[e("button",{onClick:O,disabled:!d.value.trim()||x.value||h.value<=0,class:"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium"},r(x.value?"AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ...":"–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ"),9,Ve),s.value.maxAttempts?(o(),l("div",He," –û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: "+r(h.value),1)):n("",!0)])]),u.value?(o(),l("div",Be,[e("div",De,[t[12]||(t[12]=e("span",{class:"text-lg"},"ü§ñ",-1)),t[13]||(t[13]=e("h3",{class:"font-medium text-gray-900"},"AI –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å",-1)),e("span",{class:S(["px-2 py-1 rounded-full text-xs font-medium",u.value.isCorrect?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},r(u.value.isCorrect?"–ü—Ä–∞–≤–∏–ª—å–Ω–æ":"–ù—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å"),3)]),e("div",Oe,[u.value.score!==void 0?(o(),l("div",qe,[t[14]||(t[14]=e("span",{class:"font-medium"},"–û—Ü–µ–Ω–∫–∞:",-1)),b(" "+r(u.value.score)+"% ",1)])):n("",!0),u.value.feedback?(o(),l("div",ze,r(u.value.feedback),1)):n("",!0),u.value.isCorrect?(o(),l("div",Me,[t[16]||(t[16]=e("div",{class:"text-green-600 text-lg mb-2"},"üéâ –û—Ç–ª–∏—á–Ω–æ!",-1)),t[17]||(t[17]=e("p",{class:"text-sm text-gray-600 mb-4"},"–í—ã —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–∏–ª–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ!",-1)),L(A,{to:`/courses/${w.value}`,class:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"},{default:E(()=>t[15]||(t[15]=[b(" –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫—É—Ä—Å—É ")])),_:1},8,["to"])])):n("",!0)])])):n("",!0)])])):n("",!0)])])}}});export{$e as default};
//# sourceMappingURL=AIExercisePage-BdouOOUh.js.map
