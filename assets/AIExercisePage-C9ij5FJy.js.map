{"version":3,"file":"AIExercisePage-C9ij5FJy.js","sources":["../../src/pages/course/AIExercisePage.vue"],"sourcesContent":["<template>\r\n  <div class=\"min-h-screen bg-gray-50\">\r\n    <!-- Header -->\r\n    <div class=\"bg-white shadow-sm border-b\">\r\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <div class=\"flex items-center justify-between py-4\">\r\n          <div class=\"flex items-center space-x-4\">\r\n            <router-link \r\n              :to=\"`/courses/${courseId}`\"\r\n              class=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              ‚Üê –ù–∞–∑–∞–¥ –∫ –∫—É—Ä—Å—É\r\n            </router-link>\r\n            <div>\r\n              <h1 class=\"text-lg font-medium text-gray-900\">{{ exercise?.title }}</h1>\r\n              <p class=\"text-sm text-gray-500\">ü§ñ AI –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div v-if=\"exercise\" class=\"flex items-center space-x-4\">\r\n            <div class=\"text-sm text-gray-600 flex items-center space-x-2\">\r\n              <span class=\"flex items-center\">\r\n                <span class=\"w-2 h-2 bg-yellow-500 rounded-full mr-1\"></span>\r\n                {{ getDifficultyLabel(exercise.difficulty) }}\r\n              </span>\r\n              <span v-if=\"exercise.timeLimit\">‚è∞ {{ exercise.timeLimit }} –º–∏–Ω</span>\r\n              <span v-if=\"exercise.maxAttempts\">üéØ {{ attemptsLeft }} –ø–æ–ø—ã—Ç–æ–∫</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      <!-- Loading State -->\r\n      <div v-if=\"isLoading\" class=\"flex justify-center py-12\">\r\n        <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n      </div>\r\n\r\n      <div v-else-if=\"exercise\" class=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n        <!-- Exercise Description -->\r\n        <div class=\"space-y-6\">\r\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n            <h2 class=\"text-xl font-semibold text-gray-900 mb-4\">–ó–∞–¥–∞–Ω–∏–µ</h2>\r\n            <div class=\"prose max-w-none\">\r\n              <p class=\"text-gray-700\">{{ exercise.description }}</p>\r\n            </div>\r\n            \r\n            <div class=\"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\r\n              <h3 class=\"font-medium text-blue-900 mb-2\">üí° –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:</h3>\r\n              <div class=\"text-blue-800 whitespace-pre-line\">{{ exercise.prompt }}</div>\r\n            </div>\r\n            \r\n            <div v-if=\"exercise.expectedOutput\" class=\"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg\">\r\n              <h3 class=\"font-medium text-green-900 mb-2\">‚úÖ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:</h3>\r\n              <pre class=\"text-green-800 text-sm bg-green-100 p-2 rounded\"><code>{{ exercise.expectedOutput }}</code></pre>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Hints -->\r\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n            <div class=\"flex items-center justify-between mb-4\">\r\n              <h3 class=\"text-lg font-medium text-gray-900\">üí° –ü–æ–¥—Å–∫–∞–∑–∫–∏</h3>\r\n              <button\r\n                v-if=\"!showHints && exercise.hints.length > 0\"\r\n                @click=\"requestHint\"\r\n                :disabled=\"isRequestingHint || hintsUsed >= exercise.hints.length\"\r\n                class=\"px-3 py-1 text-sm bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 disabled:opacity-50\"\r\n              >\r\n                {{ isRequestingHint ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥—Å–∫–∞–∑–∫—É' }}\r\n              </button>\r\n            </div>\r\n            \r\n            <div v-if=\"showHints\">\r\n              <div \r\n                v-for=\"(hint, index) in visibleHints\" \r\n                :key=\"index\"\r\n                class=\"mb-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg\"\r\n              >\r\n                <div class=\"text-sm text-yellow-800\">{{ hint }}</div>\r\n              </div>\r\n              \r\n              <button\r\n                v-if=\"hintsUsed < exercise.hints.length\"\r\n                @click=\"requestHint\"\r\n                :disabled=\"isRequestingHint\"\r\n                class=\"text-sm text-yellow-600 hover:text-yellow-700\"\r\n              >\r\n                {{ isRequestingHint ? '–ó–∞–≥—Ä—É–∑–∫–∞...' : '–ï—â—ë –ø–æ–¥—Å–∫–∞–∑–∫–∞' }}\r\n              </button>\r\n            </div>\r\n            \r\n            <div v-else-if=\"exercise.hints.length === 0\" class=\"text-gray-500 text-sm\">\r\n              –ü–æ–¥—Å–∫–∞–∑–∫–∏ –¥–ª—è —ç—Ç–æ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Previous Submissions -->\r\n          <div v-if=\"submissions.length > 0\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n            <h3 class=\"text-lg font-medium text-gray-900 mb-4\">üìù –ü—Ä–µ–¥—ã–¥—É—â–∏–µ –ø–æ–ø—ã—Ç–∫–∏</h3>\r\n            <div class=\"space-y-3\">\r\n              <div \r\n                v-for=\"(submission, index) in submissions.slice(-3)\" \r\n                :key=\"submission.id\"\r\n                class=\"p-3 border border-gray-200 rounded-lg\"\r\n              >\r\n                <div class=\"flex items-center justify-between mb-2\">\r\n                  <span class=\"text-sm font-medium\">–ü–æ–ø—ã—Ç–∫–∞ #{{ submission.attemptNumber }}</span>\r\n                  <div class=\"flex items-center space-x-2\">\r\n                    <span v-if=\"submission.score !== undefined\" class=\"text-sm text-gray-600\">\r\n                      {{ submission.score }}%\r\n                    </span>\r\n                    <span \r\n                      :class=\"[\r\n                        'px-2 py-1 rounded-full text-xs font-medium',\r\n                        submission.isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\r\n                      ]\"\r\n                    >\r\n                      {{ submission.isCorrect ? '–ü—Ä–∞–≤–∏–ª—å–Ω–æ' : '–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ' }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div v-if=\"submission.feedback\" class=\"text-sm text-gray-600 bg-gray-50 p-2 rounded whitespace-pre-line\">\r\n                  <strong>AI –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å:</strong> {{ submission.feedback }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Text Answer and Submission -->\r\n        <div class=\"space-y-6\">\r\n          <div class=\"bg-white rounded-lg shadow-sm border border-gray-200\">\r\n            <div class=\"p-4 border-b border-gray-200\">\r\n              <div class=\"flex items-center justify-between\">\r\n                <h3 class=\"font-medium text-gray-900\">‚úçÔ∏è –í–∞—à –æ—Ç–≤–µ—Ç</h3>\r\n                <div class=\"flex items-center space-x-2\">\r\n                  <button\r\n                    @click=\"formatText\"\r\n                    class=\"px-3 py-1 text-sm text-gray-600 hover:text-gray-900\"\r\n                  >\r\n                    –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å\r\n                  </button>\r\n                  <button\r\n                    @click=\"clearText\"\r\n                    class=\"px-3 py-1 text-sm text-gray-600 hover:text-gray-900\"\r\n                  >\r\n                    –û—á–∏—Å—Ç–∏—Ç—å\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"p-4\">\r\n              <div class=\"border border-gray-300 rounded-lg p-4\">\r\n                <textarea\r\n                  v-model=\"userCode\"\r\n                  rows=\"15\"\r\n                  class=\"w-full border-none outline-none resize-none text-gray-800 text-sm leading-relaxed\"\r\n                  placeholder=\"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç –∑–¥–µ—Å—å...\"\r\n                ></textarea>\r\n              </div>\r\n              <div class=\"mt-2 text-xs text-gray-500\">\r\n                –ú–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞\r\n              </div>\r\n            </div>\r\n            \r\n            <div class=\"p-4 border-t border-gray-200\">\r\n              <button\r\n                @click=\"submitSolution\"\r\n                :disabled=\"!userCode.trim() || userCode.trim().length < 50 || isSubmitting || attemptsLeft <= 0\"\r\n                class=\"w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium\"\r\n              >\r\n                {{ isSubmitting ? 'AI –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞—à –æ—Ç–≤–µ—Ç...' : '–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç' }}\r\n              </button>\r\n              \r\n              <div class=\"mt-2 text-center text-sm text-gray-500\">\r\n                <div v-if=\"exercise.maxAttempts\">\r\n                  –û—Å—Ç–∞–ª–æ—Å—å –ø–æ–ø—ã—Ç–æ–∫: {{ attemptsLeft }}\r\n                </div>\r\n                <div v-if=\"userCode.trim().length > 0 && userCode.trim().length < 50\" class=\"text-orange-600\">\r\n                  –ú–∏–Ω–∏–º—É–º 50 —Å–∏–º–≤–æ–ª–æ–≤ (—Å–µ–π—á–∞—Å: {{ userCode.trim().length }})\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <!-- Latest Feedback -->\r\n          <div v-if=\"latestSubmission\" class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n            <div class=\"flex items-center space-x-2 mb-4\">\r\n              <span class=\"text-lg\">ü§ñ</span>\r\n              <h3 class=\"font-medium text-gray-900\">AI –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</h3>\r\n              <span \r\n                :class=\"[\r\n                  'px-2 py-1 rounded-full text-xs font-medium',\r\n                  latestSubmission.isCorrect ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\r\n                ]\"\r\n              >\r\n                {{ latestSubmission.isCorrect ? '–ü—Ä–∞–≤–∏–ª—å–Ω–æ' : '–ù—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å' }}\r\n              </span>\r\n            </div>\r\n            \r\n            <div class=\"space-y-3\">\r\n              <div v-if=\"latestSubmission.score !== undefined\" class=\"text-sm\">\r\n                <span class=\"font-medium\">–û—Ü–µ–Ω–∫–∞:</span> {{ latestSubmission.score }}%\r\n              </div>\r\n              \r\n              <div v-if=\"latestSubmission.feedback\" class=\"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg whitespace-pre-line\">\r\n                {{ latestSubmission.feedback }}\r\n              </div>\r\n              \r\n              <div v-if=\"latestSubmission.isCorrect\" class=\"text-center pt-4\">\r\n                <div class=\"text-green-600 text-lg mb-2\">üéâ –û—Ç–ª–∏—á–Ω–æ!</div>\r\n                <p class=\"text-sm text-gray-600 mb-4\">–í—ã —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–∏–ª–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ!</p>\r\n                <router-link\r\n                  :to=\"`/courses/${courseId}`\"\r\n                  class=\"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"\r\n                >\r\n                  –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –∫—É—Ä—Å—É\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { useRoute } from 'vue-router';\r\nimport { aiExercisesApi } from '@/services/api';\r\nimport { aiExerciseService } from '@/services/aiExerciseService';\r\nimport type { AIExercise, AIExerciseSubmission } from '@/types';\r\n\r\nconst route = useRoute();\r\n\r\nconst courseId = computed(() => route.params.courseId as string);\r\nconst exerciseId = computed(() => route.params.exerciseId as string);\r\n\r\nconst isLoading = ref(true);\r\nconst isSubmitting = ref(false);\r\nconst isRequestingHint = ref(false);\r\nconst exercise = ref<AIExercise | null>(null);\r\nconst submissions = ref<AIExerciseSubmission[]>([]);\r\nconst userCode = ref('');\r\nconst showHints = ref(false);\r\nconst hintsUsed = ref(0);\r\n\r\nconst latestSubmission = computed(() => {\r\n  return submissions.value[submissions.value.length - 1] || null;\r\n});\r\n\r\nconst attemptsLeft = computed(() => {\r\n  if (!exercise.value?.maxAttempts) return Infinity;\r\n  return exercise.value.maxAttempts - submissions.value.length;\r\n});\r\n\r\nconst visibleHints = computed(() => {\r\n  if (!exercise.value) return [];\r\n  return exercise.value.hints.slice(0, hintsUsed.value);\r\n});\r\n\r\nconst getDifficultyLabel = (difficulty: string) => {\r\n  const labels: Record<string, string> = {\r\n    'easy': '–õ–µ–≥–∫–æ',\r\n    'medium': '–°—Ä–µ–¥–Ω–µ',\r\n    'hard': '–°–ª–æ–∂–Ω–æ'\r\n  };\r\n  return labels[difficulty] || difficulty;\r\n};\r\n\r\nconst loadExercise = async () => {\r\n  isLoading.value = true;\r\n  \r\n  try {\r\n    // –í —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∑–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Å API\r\n    // –ü–æ–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ–º–æ —É—Ä–æ–∫–∞\r\n    exercise.value = {\r\n      id: exerciseId.value,\r\n      title: '–û–±—ä—è—Å–Ω–∏—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø —Ä–∞–±–æ—Ç—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è',\r\n      description: '–û–ø–∏—à–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ –ø–æ–¥—Ö–æ–¥—ã –≤ –º–∞—à–∏–Ω–Ω–æ–º –æ–±—É—á–µ–Ω–∏–∏, –≤–∫–ª—é—á–∞—è —Ç–∏–ø—ã –æ–±—É—á–µ–Ω–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è.',\r\n      prompt: '–ù–∞–ø–∏—à–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã:\\n1. –ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?\\n2. –ö–∞–∫–∏–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ç–∏–ø—ã –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –≤—ã –∑–Ω–∞–µ—Ç–µ?\\n3. –ü—Ä–∏–≤–µ–¥–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏\\n4. –û–±—ä—è—Å–Ω–∏—Ç–µ —Ä–∞–∑–Ω–∏—Ü—É –º–µ–∂–¥—É –æ–±—É—á–µ–Ω–∏–µ–º —Å —É—á–∏—Ç–µ–ª–µ–º –∏ –±–µ–∑ —É—á–∏—Ç–µ–ª—è',\r\n      expectedOutput: '–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –≤–∫–ª—é—á–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ (—Å —É—á–∏—Ç–µ–ª–µ–º, –±–µ–∑ —É—á–∏—Ç–µ–ª—è, —Å –ø–æ–¥–∫—Ä–µ–ø–ª–µ–Ω–∏–µ–º), –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É –ø–æ–¥—Ö–æ–¥–∞–º–∏.',\r\n      hints: [\r\n        '–ù–∞—á–Ω–∏—Ç–µ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∫–∞–∫ —Å–ø–æ—Å–æ–±–∞ –æ–±—É—á–µ–Ω–∏—è –∫–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö',\r\n        '–†–∞—Å—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç—Ä–∏ –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–∏–ø–∞: supervised, unsupervised –∏ reinforcement learning',\r\n        '–ü—Ä–∏–≤–µ–¥–∏—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã: —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π, –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ',\r\n        '–û–±—ä—è—Å–Ω–∏—Ç–µ, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Ç–∏–ø –æ–±—É—á–µ–Ω–∏—è'\r\n      ],\r\n      difficulty: 'medium',\r\n      timeLimit: 45,\r\n      maxAttempts: 3\r\n    };\r\n    \r\n    // Load previous submissions\r\n    try {\r\n      submissions.value = await aiExercisesApi.getExerciseSubmissions(exerciseId.value);\r\n    } catch (error) {\r\n      // –ï—Å–ª–∏ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤\r\n      submissions.value = [];\r\n    }\r\n  } catch (error) {\r\n    console.error('Failed to load exercise:', error);\r\n  } finally {\r\n    isLoading.value = false;\r\n  }\r\n};\r\n\r\nconst requestHint = async () => {\r\n  if (!exercise.value || hintsUsed.value >= exercise.value.hints.length) return;\r\n  \r\n  isRequestingHint.value = true;\r\n  \r\n  try {\r\n    // –ò—Å–ø–æ–ª—å–∑—É–µ–º AI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏\r\n    const aiHint = await aiExerciseService.generateHint(\r\n      exercise.value.title,\r\n      exercise.value.description,\r\n      userCode.value\r\n    );\r\n    \r\n    // –î–æ–±–∞–≤–ª—è–µ–º AI-–ø–æ–¥—Å–∫–∞–∑–∫—É –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–æ–¥—Å–∫–∞–∑–∫–∞–º\r\n    if (exercise.value) {\r\n      exercise.value.hints.push(aiHint);\r\n    }\r\n    \r\n    hintsUsed.value++;\r\n    showHints.value = true;\r\n  } catch (error) {\r\n    console.error('Failed to get hint:', error);\r\n    // Fallback –∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–¥—Å–∫–∞–∑–∫–∞–º\r\n    hintsUsed.value++;\r\n    showHints.value = true;\r\n  } finally {\r\n    isRequestingHint.value = false;\r\n  }\r\n};\r\n\r\nconst submitSolution = async () => {\r\n  if (!userCode.value.trim() || !exercise.value || isSubmitting.value) return;\r\n  \r\n  isSubmitting.value = true;\r\n  \r\n  try {\r\n    // –ò—Å–ø–æ–ª—å–∑—É–µ–º AI –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–≤–µ—Ç–∞\r\n    const evaluation = await aiExerciseService.evaluateTextAnswer(userCode.value, {\r\n      exerciseId: exercise.value.id,\r\n      exerciseTitle: exercise.value.title,\r\n      exerciseDescription: exercise.value.description,\r\n      expectedAnswer: exercise.value.expectedOutput,\r\n      evaluationCriteria: [\r\n        '–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –∏ –ø–æ–ª–Ω–æ—Ç–∞ –æ—Ç–≤–µ—Ç–∞',\r\n        '–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏–∑–ª–æ–∂–µ–Ω–∏—è',\r\n        '–ü—Ä–∏–º–µ—Ä—ã –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è',\r\n        '–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–π'\r\n      ]\r\n    });\r\n\r\n    // –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç submission\r\n    const submission: AIExerciseSubmission = {\r\n      id: `submission_${Date.now()}`,\r\n      exerciseId: exercise.value.id,\r\n      userId: 'demo_user',\r\n      answer: userCode.value,\r\n      isCorrect: evaluation.isCorrect,\r\n      feedback: evaluation.feedback,\r\n      score: evaluation.score,\r\n      attemptNumber: submissions.value.length + 1,\r\n      submittedAt: new Date().toISOString()\r\n    };\r\n\r\n    submissions.value.push(submission);\r\n    \r\n    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –æ—Ü–µ–Ω–∫–∏\r\n    if (evaluation.suggestions.length > 0 || evaluation.strengths.length > 0 || evaluation.improvements.length > 0) {\r\n      let detailedFeedback = evaluation.feedback;\r\n      \r\n      if (evaluation.strengths.length > 0) {\r\n        detailedFeedback += `\\n\\n–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:\\n${evaluation.strengths.map(s => `‚Ä¢ ${s}`).join('\\n')}`;\r\n      }\r\n      \r\n      if (evaluation.improvements.length > 0) {\r\n        detailedFeedback += `\\n\\n–ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:\\n${evaluation.improvements.map(i => `‚Ä¢ ${i}`).join('\\n')}`;\r\n      }\r\n      \r\n      if (evaluation.suggestions.length > 0) {\r\n        detailedFeedback += `\\n\\n–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:\\n${evaluation.suggestions.map(s => `‚Ä¢ ${s}`).join('\\n')}`;\r\n      }\r\n      \r\n      submission.feedback = detailedFeedback;\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('Failed to submit solution:', error);\r\n    \r\n    // Fallback submission –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏\r\n    const fallbackSubmission: AIExerciseSubmission = {\r\n      id: `submission_${Date.now()}`,\r\n      exerciseId: exercise.value.id,\r\n      userId: 'demo_user',\r\n      answer: userCode.value,\r\n      isCorrect: false,\r\n      feedback: '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –æ—Ç–≤–µ—Ç–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.',\r\n      score: 0,\r\n      attemptNumber: submissions.value.length + 1,\r\n      submittedAt: new Date().toISOString()\r\n    };\r\n    \r\n    submissions.value.push(fallbackSubmission);\r\n  } finally {\r\n    isSubmitting.value = false;\r\n  }\r\n};\r\n\r\nconst formatText = () => {\r\n  // Basic text formatting\r\n  userCode.value = userCode.value\r\n    .split('\\n')\r\n    .map(line => line.trim())\r\n    .filter(line => line.length > 0)\r\n    .join('\\n\\n');\r\n};\r\n\r\nconst clearText = () => {\r\n  userCode.value = '';\r\n};\r\n\r\nonMounted(() => {\r\n  loadExercise();\r\n});\r\n</script>\r\n"],"names":["route","useRoute","courseId","computed","exerciseId","isLoading","ref","isSubmitting","isRequestingHint","exercise","submissions","userCode","showHints","hintsUsed","latestSubmission","attemptsLeft","_a","visibleHints","getDifficultyLabel","difficulty","loadExercise","aiExercisesApi","error","requestHint","aiHint","aiExerciseService","submitSolution","evaluation","submission","detailedFeedback","s","i","fallbackSubmission","formatText","line","clearText","onMounted"],"mappings":"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"}